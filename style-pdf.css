/**
 * ============================================================================
 * CSS OPTIMISÉ POUR GÉNÉRATION PDF - ATS-SAFE
 * ============================================================================
 * 
 * Ce CSS ajuste uniquement les espacements et la densité pour le PDF.
 * Les styles visuels (polices, couleurs, backgrounds, arrondis) sont
 * conservés depuis style.css pour un rendu identique.
 * 
 * Stratégie ATS-safe:
 * - Garder TOUS les styles visuels (polices, couleurs, neonbox, etc.)
 * - Réduire uniquement les espacements pour optimiser la place
 * - Gérer les page breaks
 * - Cacher les boutons UI
 * - Afficher le lien CV en ligne
 * - Désactiver les symboles décoratifs ::before
 */

/* ============================================================================
  OPTIMISATIONS GLOBALES - Espacements uniquement
  ============================================================================ */

html.pdf-mode,
html.pdf-mode body {
  line-height: 1.5 !important;
  height: auto !important;
  min-height: 0 !important;
  overflow: visible !important;
  background-image: none !important;
}

html.pdf-mode[data-theme="dark"],
html.pdf-mode[data-theme="dark"] body {
  background-color: #121620 !important;
}

html.pdf-mode[data-theme="light"],
html.pdf-mode[data-theme="light"] body {
  background-color: #e3ebf4 !important;
}

html.pdf-mode .container {
  display: block !important;
  gap: 0 !important;
  padding: 1rem !important;
  max-width: 100% !important;
}

/* ============================================================================
   SIMPLIFICATION VISUELLE - Pas d'effets complexes
   ============================================================================ */

html.pdf-mode * {
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  transition: none !important;
}

html.pdf-mode .section,
html.pdf-mode .neonbox {
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Supprimer les layouts flex pour le PDF */
html.pdf-mode .header-content,
html.pdf-mode .top-right-buttons,
html.pdf-mode .contact-section ul,
html.pdf-mode .profile-section,
html.pdf-mode .skills-section,
html.pdf-mode .experiences-section,
html.pdf-mode .formation-section,
html.pdf-mode .languages-section,
html.pdf-mode .interests-section {
  display: block !important;
}

/* ============================================================================
   HEADER - Espacements réduits
   ============================================================================ */

html.pdf-mode .header-section {
  margin-bottom: 2.5rem !important;
}

html.pdf-mode .header-section h1 {
  font-size: 2rem !important;
  margin-bottom: 0.5rem !important;
}

html.pdf-mode .tagline {
  font-size: 0.9rem !important;
  margin-top: 0.3rem !important;
}

/* ============================================================================
   SECTIONS - Espacements compacts
   ============================================================================ */

html.pdf-mode .section {
  padding: 0.8rem !important;
  margin-bottom: 0.5rem !important;
}

/* Experiences section with full-bleed background (edge to edge) */
html.pdf-mode .experiences-section .section,
html.pdf-mode .experiences-section .neonbox {
  border-radius: 0 !important;
  /* Extend background to page edges with negative margins */
  margin-left: -1rem !important;
  margin-right: -1rem !important;
  /* Add padding back to keep content readable */
  padding-left: 1rem !important;
  padding-right: 1rem !important;
  padding-top: 0.8rem !important;
  padding-bottom: 0.8rem !important;
}

html.pdf-mode .section h2 {
  font-size: 1.1rem !important;
  margin-bottom: 0.6rem !important;
}

/* Profil - espacement titre/contenu harmonisé */
html.pdf-mode .profile-section h2 {
  margin-bottom: 0.6rem !important;
}

html.pdf-mode .profile-section p {
  margin-top: 0 !important;
}

html.pdf-mode .section h3 {
  font-size: 1rem !important;
  margin-bottom: 0.4rem !important;
}

html.pdf-mode .section p {
  line-height: 1.5 !important;
  margin-bottom: 0.5rem !important;
}

html.pdf-mode .section ul {
  margin: 0.5rem 0 !important;
  padding-left: 1.2rem !important;
  list-style-type: none !important;
}

html.pdf-mode .section li {
  margin-bottom: 0.4rem !important;
  line-height: 1.5 !important;
}

html.pdf-mode .section li:last-child {
  margin-bottom: 0 !important;
}

html.pdf-mode .section li::before {
  content: "- " !important;
  margin-left: -1.2rem !important;
  padding-right: 0.5rem !important;
  display: inline-block !important;
  width: 1.2rem !important;
}

/* ============================================================================
   EXPERIENCE ITEMS - Compact spacing
   ============================================================================ */

html.pdf-mode .experience-item {
  margin-bottom: 1rem !important;
  padding-bottom: 0.8rem !important;
}

html.pdf-mode .experience-item:last-child {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

html.pdf-mode .experience-item h3 {
  margin-bottom: 0.25rem !important;
}

html.pdf-mode .experience-item p {
  margin: 0.15rem 0 !important;
}

html.pdf-mode .experience-item ul {
  margin-top: 0.3rem !important;
  margin-bottom: 0.3rem !important;
}

html.pdf-mode .experience-item li {
  margin-bottom: 0.3rem !important;
}

/* ============================================================================
   UI ELEMENTS - Masquer pour PDF
   ============================================================================ */

html.pdf-mode .top-right-buttons,
html.pdf-mode #toggle,
html.pdf-mode #lang-button,
html.pdf-mode #print-btn,
html.pdf-mode .lang-dropdown {
  display: none !important;
}

/* ============================================================================
   CONTACT SECTION - Afficher lien CV en PDF
   ============================================================================ */

/* Afficher le lien CV en ligne dans le PDF */
html.pdf-mode [data-contact-cv] {
  display: list-item !important;
}

/* ============================================================================
   PAGE BREAKS - Contrôle pagination
   ============================================================================ */

html.pdf-mode .section {
  page-break-inside: auto !important;
  break-inside: auto !important;
}

html.pdf-mode li {
  page-break-inside: auto !important;
  break-inside: auto !important;
}

html.pdf-mode .neonbox {
  page-break-inside: auto !important;
  break-inside: auto !important;
  overflow: visible !important;
}

html.pdf-mode h1,
html.pdf-mode h2,
html.pdf-mode h3,
html.pdf-mode h4,
html.pdf-mode h5,
html.pdf-mode h6 {
  break-after: auto !important;
  page-break-after: auto !important;
}

html.pdf-mode .experiences-section {
  page-break-before: auto !important;
}

/* ============================================================================
   PRINT COLOR ADJUSTMENT - Forcer l'impression des couleurs
   ============================================================================ */

html.pdf-mode * {
  -webkit-print-color-adjust: exact !important;
  print-color-adjust: exact !important;
  color-adjust: exact !important;
}

/* ============================================================================
   DECORATIVE SYMBOLS (PDF) - Désactivés pour ATS-safe
   ============================================================================ */

html.pdf-mode h2::before {
  content: "" !important;
  display: none !important;
}

/* ============================================================================
  PAGE BREAK UTILITIES
  ============================================================================ */

/* Forcer un saut de page (PDF uniquement) */
html.pdf-mode .pdf-page-break {
  break-before: page !important;
  page-break-before: always !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
}

/* Espace minimum en haut des pages après un saut */
html.pdf-mode .pdf-page-break + section .section {
  margin-top: 3rem !important;
}

/* Optionnel: séparateur visuel si besoin en HTML (masqué en PDF) */
html.pdf-mode .pdf-page-separator {
  display: none !important;
}

/* ============================================================================
  FORMATION SECTION - Add top margin
  ============================================================================ */
html.pdf-mode .formation-section {
  margin-top: 2rem !important;
}

html.pdf-mode .formation-section .section {
  margin-top: 0 !important;
}

/* ============================================================================
  MANUAL PAGE BREAK - For specific content breaks
  ============================================================================ */
html.pdf-mode .pdf-page-break-after {
  display: inline !important;
  page-break-after: always !important;
  break-after: page !important;
}

/* Hide the page break marker on web */
.pdf-page-break-after {
  display: none;
}

/* ============================================================================
  FORCED PAGE BREAK BEFORE FREELANCE EXPERIENCE
  ============================================================================ */
html.pdf-mode .experience-page-break {
  page-break-before: always !important;
  break-before: page !important;
}
